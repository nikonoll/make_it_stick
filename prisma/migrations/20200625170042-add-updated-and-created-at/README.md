# Migration `20200625170042-add-updated-and-created-at`

This migration has been generated by Niko Noll at 6/25/2020, 5:00:42 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `db`.`Card` ADD COLUMN `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ,
ADD COLUMN `updatedAt` datetime(3) NOT NULL  ;

ALTER TABLE `db`.`Deck` ADD COLUMN `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ,
ADD COLUMN `updatedAt` datetime(3) NOT NULL  ;

ALTER TABLE `db`.`User` ADD COLUMN `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ,
ADD COLUMN `updatedAt` datetime(3) NOT NULL  ;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200625132458-typo-in-cards-deckid-field..20200625170042-add-updated-and-created-at
--- datamodel.dml
+++ datamodel.dml
@@ -3,17 +3,19 @@
 }
 datasource db {
   provider = "mysql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model Card {
   id Int @default(autoincrement()) @id
   deckId Int
   question String
   answer String
   Deck Deck @relation(fields: [deckId], references: [id])
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
 }
 model Deck {
   authorId    Int?
@@ -21,8 +23,10 @@
   id          Int     @default(autoincrement()) @id
   published   Boolean @default(false)
   title       String
   User        User?   @relation(fields: [authorId], references: [id])
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
   @@index([authorId], name: "authorId")
 }
@@ -30,5 +34,7 @@
   email String  @unique
   id    Int     @default(autoincrement()) @id
   name  String?
   authoredDecks  Deck[]
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
 }
```


